<ion-header>
  <ion-navbar>
    <ion-title>
      Alertar Emergencia
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <!-- <button ion-button color="danger" icon-end large block (click)="motrar_modal()">
    Alerta
    <ion-icon name="alert"></ion-icon>
  </button> -->
  <ion-fab top right>
      <button ion-fab color="danger" (click)="motrar_modal()"><ion-icon name="alert"></ion-icon></button>
  </ion-fab>

  <h1>Ultimas alertas</h1>
  <ion-card *ngFor="let alerta of (alertas | async)?.reverse()">
    <!-- <img [src]="alerta.img"> -->
    <agm-map [latitude]="alerta.lat" [longitude]="alerta.lon" [zoom]="17" [scrollwheel]="false" [mapDraggable]="false">
      <agm-marker [latitude]="alerta.lat" [longitude]="alerta.lon"></agm-marker>
    </agm-map>
    <ion-card-content>
      <ion-card-title>{{ alerta.tipo }}</ion-card-title>
      <p>{{ alerta.descripcion }}</p>
      <p>{{ mostrar_fecha(alerta.tiempo) }}</p>
    </ion-card-content>
  </ion-card>
</ion-content>
